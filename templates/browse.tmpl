#extends base
#import config
#import json

#def head()
#end def

#def title()
You are the VJ with youvj!
#end def

#def body()
<dev id="container">
  <dev id="top">
    <form onsubmit="return UVJ.browse(jQuery('#browseInput').val());">
      <input type="text" id="browseInput"/>
    </form>
  </dev>
  <dev id="middle">
    <div id="featureVideo"></div>
  </dev>
  <dev id="footer"><ul id="playlist"></ul></dev>
</dev><!-- #container -->
<script>
  var artistVids = $json.dumps($artistVids);

  jQuery(document).ready(function(){
    if( artistVids ){
      for( var i = 0; i < artistVids.length; i++ ){
          jQuery('#middle').append( UVJ.renderVideo(artistVids[i]) );
      }
    }
    jQuery('#playlist').sortable({
                                 'over':function(e, ui){
                                   e.target.style.border = '1px solid red';
                                 }
                                 });
  });

  UVJ.browse = function( artist ){
    jQuery.post('/findvideos',
              {'artist':artist},
              function(resp){
                UVJ.onBrowseCallback(resp, artist);
              },'json');
    return false;
  };

  UVJ.onBrowseCallback = function( resp, artist ){
    jQuery('#middle .videoInfo').remove();
    for( var i = 0; i < resp.length; i++ ){
      jQuery('#middle').append( UVJ.renderVideo(resp[i]) );
    }
  };

</script>
#end def
