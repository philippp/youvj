#extends base
#import config
#import json

#def head()
#end def

#def title()
You are the VJ with youvj!
#end def

#def body()
<dev id="container">
  <dev id="top">
    <div id="login">
    </div>
    <form class="browse">
      <input type="text" id="browseInput"/><input type="submit" id="browse-button" value="Search"/>
    </form>
    <div id="browse-similar"></div>
  </dev>
  <div class="clear"></div>
  <dev id="middle">
    <div id="player-container"></div>
  </dev>
  <div id="footer-spacer">&nbsp;</div>
  <dev id="footer">
    <div id="footer-up">
      <a href='#'>UP</a>
    </div>
    <div id="footer-down">
      <a href='#'>DOWN</a>
    </div>
    <div id="footer-tip">
      Drag, drop, and arrange videos here! 
    </div>
    
    <ul id="playlist"></ul>
  </dev>
</dev><!-- #container -->
<script>
  UVJ.artistVids = $json.dumps($artistVids);
  UVJ.artist = "$artist";

  var easeFooter = function(){
    if( easeFooter.dir == 'up' ){
      if( easeFooter.f.height() >= easeFooter.up ){
        clearInterval(easeFooter.t);
      }else{
        easeFooter.f.height( easeFooter.f.height() + 4 );
      }
    }else{ //down
      if( easeFooter.f.height() <= easeFooter.down ){
        clearInterval(easeFooter.t);
      }else{
        easeFooter.f.height( easeFooter.f.height() - 4 );
      }
    }
  };
  easeFooter.up = 150;
  easeFooter.down = 80;
  easeFooter.dir = 'down';
  easeFooter.f = jQuery('#footer');
  easeFooter.t = null;

jQuery(document).ready(function(){
    if( UVJ.artistVids ){
      for( var i = 0; i < UVJ.artistVids.length; i++ ){
          jQuery('#middle').append( UVJ.makeThumb(UVJ.artistVids[i]) );
      }
      if( UVJ.artist && UVJ.artist.length ){
        UVJ.loadSimilar(UVJ.artist);
      }
    }

    jQuery('form.browse').submit(function(e){
	jQuery('#browseInput').focus();
	var artistName = jQuery('#browseInput').val();
	if( artistName.length > 0 ){
	    UVJ.browse(artistName);
	}
	return false;
    });

    UVJ.playlist.configure();
    UVJ.user.updateLoginStatus();
    jQuery('#browseInput').defaultValue('Artist Name');
    jQuery('#footer-up').click(function(){
                                 easeFooter.dir = 'up';
                                 easeFooter.t = setInterval( easeFooter, 20 );
                                 this.style.display = 'none';
                                 jQuery('#footer-down').show();
                               });
    jQuery('#footer-down').click(function(){
                                 easeFooter.dir = 'down';
                                 easeFooter.t = setInterval( easeFooter, 20 );
                                 this.style.display = 'none';
                                 jQuery('#footer-up').show();
                               });

  });
</script>
#end def
